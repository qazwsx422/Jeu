-- Basic Draggable GUI
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TopBar = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local CloseBtn = Instance.new("TextButton")
local Content = Instance.new("Frame")

ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Main Frame
MainFrame.Parent = ScreenGui
MainFrame.Size = UDim2.new(0, 300, 0, 300)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -150)
MainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
MainFrame.BorderSizePixel = 0

-- Top Bar (Draggable Area)
TopBar.Parent = MainFrame
TopBar.Size = UDim2.new(1, 0, 0, 30)
TopBar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
TopBar.BorderSizePixel = 0

-- Title
Title.Parent = TopBar
Title.Size = UDim2.new(1, -60, 1, 0)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "Script Loader"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 14
Title.TextXAlignment = Enum.TextXAlignment.Left

-- Close Button
CloseBtn.Parent = TopBar
CloseBtn.Size = UDim2.new(0, 30, 0, 30)
CloseBtn.Position = UDim2.new(1, -30, 0, 0)
CloseBtn.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
CloseBtn.BorderSizePixel = 0
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.TextSize = 14

-- Content Area
Content.Parent = MainFrame
Content.Size = UDim2.new(1, 0, 1, -30)
Content.Position = UDim2.new(0, 0, 0, 30)
Content.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Content.BorderSizePixel = 0

-- Drag Function
local dragging = false
local dragInput, dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

TopBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

TopBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement and dragging then
        dragInput = input
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- Close Function
CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Helper function to create buttons
local function CreateButton(text, yPosition, color, callback)
    local button = Instance.new("TextButton")
    button.Parent = Content
    button.Size = UDim2.new(0, 200, 0, 35)
    button.Position = UDim2.new(0.5, -100, yPosition, 0)
    button.BackgroundColor3 = color
    button.BorderSizePixel = 0
    button.Text = text
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 14
    button.MouseButton1Click:Connect(callback)
    return button
end

-- Modern License System
local LicenseSystem = {}
LicenseSystem.isVerified = false
LicenseSystem.CORRECT_KEY = "7891"  -- Set license key to 7891

-- Create modern license UI
function LicenseSystem:CreateModernLicenseUI()
    local LicenseScreenGui = Instance.new("ScreenGui")
    LicenseScreenGui.Name = "ModernLicenseSystem"
    LicenseScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    
    -- Main container
    local MainContainer = Instance.new("Frame")
    MainContainer.Size = UDim2.new(0, 350, 0, 400)
    MainContainer.Position = UDim2.new(0.5, -175, 0.5, -200)
    MainContainer.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    MainContainer.BorderSizePixel = 0
    MainContainer.Parent = LicenseScreenGui
    
    -- Rounded corners
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 15)
    Corner.Parent = MainContainer
    
    -- Glowing border
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = Color3.fromRGB(100, 100, 200)
    Stroke.Thickness = 2
    Stroke.Parent = MainContainer
    
    -- Header
    local Header = Instance.new("Frame")
    Header.Size = UDim2.new(1, 0, 0, 60)
    Header.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    Header.BorderSizePixel = 0
    Header.Parent = MainContainer
    
    local HeaderCorner = Instance.new("UICorner")
    HeaderCorner.CornerRadius = UDim.new(0, 15)
    HeaderCorner.Parent = Header
    
    -- Title
    local TitleLabel = Instance.new("TextLabel")
    TitleLabel.Size = UDim2.new(1, 0, 1, 0)
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Text = "üîê PREMIUM ACCESS"
    TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleLabel.TextSize = 20
    TitleLabel.Font = Enum.Font.GothamBold
    TitleLabel.Parent = Header
    
    -- Close button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0, 30, 0, 30)
    CloseButton.Position = UDim2.new(1, -35, 0, 15)
    CloseButton.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
    CloseButton.BorderSizePixel = 0
    CloseButton.Text = "√ó"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.TextSize = 20
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.Parent = Header
    
    local CloseCorner = Instance.new("UICorner")
    CloseCorner.CornerRadius = UDim.new(0, 8)
    CloseCorner.Parent = CloseButton
    
    -- Content area
    local LicenseContent = Instance.new("Frame")
    LicenseContent.Size = UDim2.new(1, 0, 1, -60)
    LicenseContent.Position = UDim2.new(0, 0, 0, 60)
    LicenseContent.BackgroundTransparency = 1
    LicenseContent.Parent = MainContainer
    
    -- Icon
    local Icon = Instance.new("TextLabel")
    Icon.Size = UDim2.new(1, 0, 0, 80)
    Icon.Position = UDim2.new(0, 0, 0, 20)
    Icon.BackgroundTransparency = 1
    Icon.Text = "üîë"
    Icon.TextColor3 = Color3.fromRGB(255, 215, 0)
    Icon.TextSize = 50
    Icon.Parent = LicenseContent
    
    -- Description
    local Description = Instance.new("TextLabel")
    Description.Size = UDim2.new(1, -40, 0, 40)
    Description.Position = UDim2.new(0, 20, 0, 100)
    Description.BackgroundTransparency = 1
    Description.Text = "Enter license key: 7891"
    Description.TextColor3 = Color3.fromRGB(200, 200, 200)
    Description.TextSize = 14
    Description.TextWrapped = true
    Description.Parent = LicenseContent
    
    -- Input container
    local InputContainer = Instance.new("Frame")
    InputContainer.Size = UDim2.new(1, -40, 0, 50)
    InputContainer.Position = UDim2.new(0, 20, 0, 150)
    InputContainer.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
    InputContainer.BorderSizePixel = 0
    InputContainer.Parent = LicenseContent
    
    local InputCorner = Instance.new("UICorner")
    InputCorner.CornerRadius = UDim.new(0, 10)
    InputCorner.Parent = InputContainer
    
    -- Input field
    local KeyInput = Instance.new("TextBox")
    KeyInput.Size = UDim2.new(1, -20, 1, -10)
    KeyInput.Position = UDim2.new(0, 10, 0, 5)
    KeyInput.BackgroundTransparency = 1
    KeyInput.PlaceholderText = "Enter license key..."
    KeyInput.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
    KeyInput.Text = ""
    KeyInput.TextColor3 = Color3.fromRGB(255, 255, 255)
    KeyInput.TextSize = 16
    KeyInput.Font = Enum.Font.Gotham
    KeyInput.ClearTextOnFocus = false
    KeyInput.Parent = InputContainer
    
    -- Verify button
    local VerifyButton = Instance.new("TextButton")
    VerifyButton.Size = UDim2.new(1, -40, 0, 45)
    VerifyButton.Position = UDim2.new(0, 20, 0, 220)
    VerifyButton.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
    VerifyButton.BorderSizePixel = 0
    VerifyButton.Text = "VERIFY KEY"
    VerifyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    VerifyButton.TextSize = 16
    VerifyButton.Font = Enum.Font.GothamBold
    VerifyButton.Parent = LicenseContent
    
    local VerifyCorner = Instance.new("UICorner")
    VerifyCorner.CornerRadius = UDim.new(0, 10)
    VerifyCorner.Parent = VerifyButton
    
    -- Status display
    local StatusLabel = Instance.new("TextLabel")
    StatusLabel.Size = UDim2.new(1, -40, 0, 30)
    StatusLabel.Position = UDim2.new(0, 20, 0, 280)
    StatusLabel.BackgroundTransparency = 1
    StatusLabel.Text = ""
    StatusLabel.TextColor3 = Color3.fromRGB(255, 80, 80)
    StatusLabel.TextSize = 14
    StatusLabel.Font = Enum.Font.Gotham
    StatusLabel.Parent = LicenseContent
    
    -- Button hover effects
    VerifyButton.MouseEnter:Connect(function()
        game:GetService("TweenService"):Create(VerifyButton, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(0, 170, 255)
        }):Play()
    end)
    
    VerifyButton.MouseLeave:Connect(function()
        game:GetService("TweenService"):Create(VerifyButton, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(0, 150, 255)
        }):Play()
    end)
    
    CloseButton.MouseEnter:Connect(function()
        game:GetService("TweenService"):Create(CloseButton, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(100, 100, 120)
        }):Play()
    end)
    
    CloseButton.MouseLeave:Connect(function()
        game:GetService("TweenService"):Create(CloseButton, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(80, 80, 100)
        }):Play()
    end)
    
    -- Verification function
    VerifyButton.MouseButton1Click:Connect(function()
        local inputKey = KeyInput.Text
        
        if inputKey == "" then
            StatusLabel.Text = "‚ö†Ô∏è Please enter a license key"
            return
        end
        
        if inputKey == self.CORRECT_KEY then
            self.isVerified = true
            StatusLabel.Text = "‚úÖ VERIFICATION SUCCESSFUL!"
            StatusLabel.TextColor3 = Color3.fromRGB(0, 255, 100)
            
            -- Success animation
            wait(1)
            LicenseScreenGui:Destroy()
            self:ShowSuccessMessage()
        else
            StatusLabel.Text = "‚ùå INVALID LICENSE KEY"
            StatusLabel.TextColor3 = Color3.fromRGB(255, 80, 80)
        end
    end)
    
    -- Enter key verification
    KeyInput.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            VerifyButton.MouseButton1Click:Fire()
        end
    end)
    
    -- Close function
    CloseButton.MouseButton1Click:Connect(function()
        LicenseScreenGui:Destroy()
    end)
end

-- Show success message
function LicenseSystem:ShowSuccessMessage()
    local SuccessGui = Instance.new("ScreenGui")
    SuccessGui.Name = "SuccessMessage"
    SuccessGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    
    local SuccessFrame = Instance.new("Frame")
    SuccessFrame.Size = UDim2.new(0, 300, 0, 150)
    SuccessFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
    SuccessFrame.BackgroundColor3 = Color3.fromRGB(30, 40, 30)
    SuccessFrame.BorderSizePixel = 0
    SuccessFrame.Parent = SuccessGui
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 15)
    Corner.Parent = SuccessFrame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = Color3.fromRGB(0, 200, 100)
    Stroke.Thickness = 2
    Stroke.Parent = SuccessFrame
    
    local Icon = Instance.new("TextLabel")
    Icon.Size = UDim2.new(1, 0, 0, 60)
    Icon.BackgroundTransparency = 1
    Icon.Text = "‚úÖ"
    Icon.TextColor3 = Color3.fromRGB(0, 255, 100)
    Icon.TextSize = 40
    Icon.Parent = SuccessFrame
    
    local Message = Instance.new("TextLabel")
    Message.Size = UDim2.new(1, 0, 0, 40)
    Message.Position = UDim2.new(0, 0, 0, 60)
    Message.BackgroundTransparency = 1
    Message.Text = "Premium Unlocked!"
    Message.TextColor3 = Color3.fromRGB(255, 255, 255)
    Message.TextSize = 18
    Message.Font = Enum.Font.GothamBold
    Message.Parent = SuccessFrame
    
    -- Auto close
    wait(2)
    SuccessGui:Destroy()
end

-- Add license verification button to script loader
CreateButton("üîê Verify License", 0.05, Color3.fromRGB(255, 140, 0), function()
    LicenseSystem:CreateModernLicenseUI()
end)

-- Ink Game Button
CreateButton("üéÆ Ink Game", 0.2, Color3.fromRGB(120, 80, 160), function()
    if not LicenseSystem.isVerified then
        LicenseSystem:CreateModernLicenseUI()
        return
    end
    loadstring(game:HttpGet("https://raw.githubusercontent.com/VapeVoidware/VW-Add/main/inkgame.lua", true))()
end)

-- 99 Nights Button
CreateButton("üåô 99 Nights", 0.35, Color3.fromRGB(60, 140, 80), function()
    if not LicenseSystem.isVerified then
        LicenseSystem:CreateModernLicenseUI()
        return
    end
    loadstring(game:HttpGet("https://raw.githubusercontent.com/VapeVoidware/VW-Add/main/nightsintheforest.lua", true))()
end)

-- XK Hub Button
CreateButton("üåü XK Hub", 0.5, Color3.fromRGB(255, 140, 0), function()
    if not LicenseSystem.isVerified then
        LicenseSystem:CreateModernLicenseUI()
        return
    end
    loadstring(game:HttpGet("https://github.com/devslopo/DVES/raw/main/XK%20Hub"))()
end)

-- Pastebin Script Button
CreateButton("üìã Pastebin Script", 0.65, Color3.fromRGB(0, 120, 215), function()
    if not LicenseSystem.isVerified then
        LicenseSystem:CreateModernLicenseUI()
        return
    end
    loadstring(game:HttpGet("https://pastebin.com/raw/Up3P2KBp", true))()
end)

-- Universal Script Button
CreateButton("üîß Universal Script", 0.8, Color3.fromRGB(80, 160, 120), function()
    if not LicenseSystem.isVerified then
        LicenseSystem:CreateModernLicenseUI()
        return
    end
    loadstring(game:HttpGet("https://raw.githubusercontent.com/qazwsx422/Jeu/5586037cd62f08bf050fb237c533b110ff4850e0/%E9%80%9A%E7%94%A8", true))()
end)

print("üéÆ Script Loader has been loaded successfully!")
print("üîê License Key: 7891")
print("üí° Verify license to unlock all features")
