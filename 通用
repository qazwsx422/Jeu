-- 基础可拖动GUI
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TopBar = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local CloseBtn = Instance.new("TextButton")
local Content = Instance.new("Frame")

ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- 主框架
MainFrame.Parent = ScreenGui
MainFrame.Size = UDim2.new(0, 300, 0, 250)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -125)
MainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
MainFrame.BorderSizePixel = 0

-- 顶部栏（可拖动区域）
TopBar.Parent = MainFrame
TopBar.Size = UDim2.new(1, 0, 0, 30)
TopBar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
TopBar.BorderSizePixel = 0

-- 标题
Title.Parent = TopBar
Title.Size = UDim2.new(1, -60, 1, 0)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "脚本加载器"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 14
Title.TextXAlignment = Enum.TextXAlignment.Left

-- 关闭按钮
CloseBtn.Parent = TopBar
CloseBtn.Size = UDim2.new(0, 30, 0, 30)
CloseBtn.Position = UDim2.new(1, -30, 0, 0)
CloseBtn.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
CloseBtn.BorderSizePixel = 0
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.TextSize = 14

-- 内容区域
Content.Parent = MainFrame
Content.Size = UDim2.new(1, 0, 1, -30)
Content.Position = UDim2.new(0, 0, 0, 30)
Content.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Content.BorderSizePixel = 0

-- 拖动功能
local dragging = false
local dragInput, dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

TopBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

TopBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement and dragging then
        dragInput = input
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- 关闭功能
CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- 墨水游戏按钮
local inkGameBtn = Instance.new("TextButton")
inkGameBtn.Parent = Content
inkGameBtn.Size = UDim2.new(0, 200, 0, 40)
inkGameBtn.Position = UDim2.new(0.5, -100, 0.1, 0)
inkGameBtn.BackgroundColor3 = Color3.fromRGB(120, 80, 160)
inkGameBtn.Text = "墨水游戏"
inkGameBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
inkGameBtn.TextSize = 14

inkGameBtn.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/VapeVoidware/VW-Add/main/inkgame.lua", true))()
end)

-- XK Hub按钮
local xkHubBtn = Instance.new("TextButton")
xkHubBtn.Parent = Content
xkHubBtn.Size = UDim2.new(0, 200, 0, 40)
xkHubBtn.Position = UDim2.new(0.5, -100, 0.3, 0)
xkHubBtn.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
xkHubBtn.Text = "XK Hub"
xkHubBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
xkHubBtn.TextSize = 14

xkHubBtn.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet(('https://github.com/devslopo/DVES/raw/main/XK%20Hub')))()
end)

-- 加载Pastebin脚本按钮
local pastebinBtn = Instance.new("TextButton")
pastebinBtn.Parent = Content
pastebinBtn.Size = UDim2.new(0, 200, 0, 40)
pastebinBtn.Position = UDim2.new(0.5, -100, 0.5, 0)
pastebinBtn.BackgroundColor3 = Color3.fromRGB(0, 120, 215)
pastebinBtn.Text = "加载Pastebin脚本"
pastebinBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
pastebinBtn.TextSize = 14

pastebinBtn.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://pastebin.com/raw/Up3P2KBp", true))()
end)

-- 通用脚本按钮
local universalBtn = Instance.new("TextButton")
universalBtn.Parent = Content
universalBtn.Size = UDim2.new(0, 200, 0, 40)
universalBtn.Position = UDim2.new(0.5, -100, 0.7, 0)
universalBtn.BackgroundColor3 = Color3.fromRGB(80, 160, 120)
universalBtn.Text = "通用脚本"
universalBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
universalBtn.TextSize = 14

universalBtn.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/qazwsx422/Jeu/main/%E9%80%9A%E7%94%A8", true))()
end)
