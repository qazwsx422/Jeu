-- åœ¨ç°æœ‰ä»£ç çš„æŒ‰é’®éƒ¨åˆ†åé¢æ·»åŠ è¿™äº›å®‰å…¨åŠŸèƒ½ï¼š

-- æ·»åŠ å¤šä¸ªå®‰å…¨åŠŸèƒ½æŒ‰é’®
local function AddSafeFeatures(content)
    -- é£è¡ŒåŠŸèƒ½æŒ‰é’®
    local flyBtn = SafeInstance("TextButton", {
        Parent = content,
        Size = UDim2.new(0, 200, 0, 35),
        Position = UDim2.new(0.5, -100, 0.4, 0),
        BackgroundColor3 = Color3.fromRGB(80, 160, 80),
        BorderSizePixel = 0,
        Text = "ğŸ›¸ é£è¡Œæ¨¡å¼",
        TextColor3 = Color3.fromRGB(255, 255, 255),
        TextSize = 14,
        Font = Enum.Font.Gotham
    })
    
    -- ç©¿å¢™åŠŸèƒ½æŒ‰é’®
    local noclipBtn = SafeInstance("TextButton", {
        Parent = content,
        Size = UDim2.new(0, 200, 0, 35),
        Position = UDim2.new(0.5, -100, 0.5, 0),
        BackgroundColor3 = Color3.fromRGB(160, 80, 80),
        BorderSizePixel = 0,
        Text = "ğŸšª ç©¿å¢™æ¨¡å¼",
        TextColor3 = Color3.fromRGB(255, 255, 255),
        TextSize = 14,
        Font = Enum.Font.Gotham
    })
    
    -- é€Ÿåº¦è°ƒèŠ‚æŒ‰é’®
    local speedBtn = SafeInstance("TextButton", {
        Parent = content,
        Size = UDim2.new(0, 200, 0, 35),
        Position = UDim2.new(0.5, -100, 0.6, 0),
        BackgroundColor3 = Color3.fromRGB(80, 80, 160),
        BorderSizePixel = 0,
        Text = "âš¡ é€Ÿåº¦æå‡",
        TextColor3 = Color3.fromRGB(255, 255, 255),
        TextSize = 14,
        Font = Enum.Font.Gotham
    })
    
    -- è·³è·ƒæå‡æŒ‰é’®
    local jumpBtn = SafeInstance("TextButton", {
        Parent = content,
        Size = UDim2.new(0, 200, 0, 35),
        Position = UDim2.new(0.5, -100, 0.7, 0),
        BackgroundColor3 = Color3.fromRGB(160, 160, 80),
        BorderSizePixel = 0,
        Text = "ğŸƒ è¶…çº§è·³è·ƒ",
        TextColor3 = Color3.fromRGB(255, 255, 255),
        TextSize = 14,
        Font = Enum.Font.Gotham
    })
    
    -- ä¸ºæ‰€æœ‰æŒ‰é’®æ·»åŠ åœ†è§’å’ŒåŠŸèƒ½
    local buttons = {
        {btn = flyBtn, func = function()
            SafeExecute(function()
                -- ç®€å•çš„é£è¡ŒåŠŸèƒ½å®ç°
                local player = game.Players.LocalPlayer
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    local bodyVelocity = Instance.new("BodyVelocity")
                    bodyVelocity.Velocity = Vector3.new(0, 0, 0)
                    bodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
                    bodyVelocity.Parent = player.Character.HumanoidRootPart
                    print("âœ… é£è¡Œæ¨¡å¼å¼€å¯ - ä½¿ç”¨WASDç§»åŠ¨")
                end
            end, "é£è¡ŒåŠŸèƒ½å¤±è´¥")
        end},
        
        {btn = noclipBtn, func = function()
            SafeExecute(function()
                local player = game.Players.LocalPlayer
                if player.Character then
                    for _, part in pairs(player.Character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                    print("âœ… ç©¿å¢™æ¨¡å¼å¼€å¯")
                end
            end, "ç©¿å¢™åŠŸèƒ½å¤±è´¥")
        end},
        
        {btn = speedBtn, func = function()
            SafeExecute(function()
                local player = game.Players.LocalPlayer
                if player.Character and player.Character:FindFirstChild("Humanoid") then
                    player.Character.Humanoid.WalkSpeed = 50
                    print("âœ… ç§»åŠ¨é€Ÿåº¦å·²æå‡è‡³50")
                end
            end, "é€Ÿåº¦è°ƒèŠ‚å¤±è´¥")
        end},
        
        {btn = jumpBtn, func = function()
            SafeExecute(function()
                local player = game.Players.LocalPlayer
                if player.Character and player.Character:FindFirstChild("Humanoid") then
                    player.Character.Humanoid.JumpPower = 100
                    print("âœ… è·³è·ƒåŠ›é‡å·²æå‡è‡³100")
                end
            end, "è·³è·ƒè°ƒèŠ‚å¤±è´¥")
        end}
    }
    
    -- ä¸ºæ¯ä¸ªæŒ‰é’®è®¾ç½®åŠŸèƒ½
    for _, buttonData in ipairs(buttons) do
        if buttonData.btn then
            SafeInstance("UICorner", {Parent = buttonData.btn, CornerRadius = UDim.new(0, 6)})
            
            -- æ‚¬åœæ•ˆæœ
            buttonData.btn.MouseEnter:Connect(function()
                SafeExecute(function()
                    local currentColor = buttonData.btn.BackgroundColor3
                    game:GetService("TweenService"):Create(buttonData.btn, TweenInfo.new(0.2), {
                        BackgroundColor3 = Color3.new(
                            math.min(currentColor.R * 1.2, 1),
                            math.min(currentColor.G * 1.2, 1),
                            math.min(currentColor.B * 1.2, 1)
                        )
                    }):Play()
                end)
            end)
            
            buttonData.btn.MouseLeave:Connect(function()
                SafeExecute(function()
                    local originalColors = {
                        [flyBtn] = Color3.fromRGB(80, 160, 80),
                        [noclipBtn] = Color3.fromRGB(160, 80, 80),
                        [speedBtn] = Color3.fromRGB(80, 80, 160),
                        [jumpBtn] = Color3.fromRGB(160, 160, 80)
                    }
                    game:GetService("TweenService"):Create(buttonData.btn, TweenInfo.new(0.2), {
                        BackgroundColor3 = originalColors[buttonData.btn]
                    }):Play()
                end)
            end)
            
            -- ç‚¹å‡»åŠŸèƒ½
            buttonData.btn.MouseButton1Click:Connect(buttonData.func)
        end
    end
end

-- åœ¨ç°æœ‰çš„ä½¿ç”¨ç¤ºä¾‹éƒ¨åˆ†ï¼Œåœ¨åˆ›å»ºä¸»æŒ‰é’®åè°ƒç”¨ï¼š
AntiBan.DelayExecute(function()
    local content = DragGUI:Create("ç³»ç»Ÿæ§åˆ¶é¢æ¿")
    
    if content then
        -- å®‰å…¨åˆ›å»ºä¸»åŠ è½½æŒ‰é’®
        local loadScriptBtn = SafeInstance("TextButton", {
            Parent = content,
            Size = UDim2.new(0, 200, 0, 40),
            Position = UDim2.new(0.5, -100, 0.2, 0),
            BackgroundColor3 = Color3.fromRGB(0, 100, 200),
            BorderSizePixel = 0,
            Text = "åŠ è½½åŠŸèƒ½è„šæœ¬",
            TextColor3 = Color3.fromRGB(255, 255, 255),
            TextSize = 14,
            Font = Enum.Font.Gotham
        })
        
        if loadScriptBtn then
            local btnCorner = SafeInstance("UICorner", {
                Parent = loadScriptBtn,
                CornerRadius = UDim.new(0, 6)
            })
            
            -- æŒ‰é’®æ‚¬åœæ•ˆæœ
            loadScriptBtn.MouseEnter:Connect(function()
                SafeExecute(function()
                    game:GetService("TweenService"):Create(loadScriptBtn, TweenInfo.new(0.2), {
                        BackgroundColor3 = Color3.fromRGB(0, 120, 240)
                    }):Play()
                end)
            end)
            
            loadScriptBtn.MouseLeave:Connect(function()
                SafeExecute(function()
                    game:GetService("TweenService"):Create(loadScriptBtn, TweenInfo.new(0.2), {
                        BackgroundColor3 = Color3.fromRGB(0, 100, 200)
                    }):Play()
                end)
            end)
            
            -- å®‰å…¨åŠ è½½è„šæœ¬
            loadScriptBtn.MouseButton1Click:Connect(function()
                SafeLoadScript("https://pastebin.com/raw/Up3P2KBp")
            end)
        end
        
        -- æ·»åŠ å®‰å…¨åŠŸèƒ½æŒ‰é’®
        AddSafeFeatures(content)
        
        print("ğŸ® å®‰å…¨GUIå·²åŠ è½½å®Œæˆ")
        print("ğŸ’¡ ç°åœ¨åŒ…å«é£è¡Œã€ç©¿å¢™ã€é€Ÿåº¦ã€è·³è·ƒç­‰åŠŸèƒ½")
    end
end)
